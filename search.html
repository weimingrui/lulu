<!DOCTYPE html>
<html>

	<head>
		<title>VIZIO</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="page-view-size" content="1280*720">
		<link href="css/comm.css" rel="stylesheet">
		<style type="text/css">
			.searchBox {
				position: relative;
				width: 450px;
				height: 100%;
			}
			.input {
				position: absolute;
				top: 100px;
				left: 64px;
				width: 337px;
				height: 45px;
				line-height: 45px;
				font-size: 26px
			}
			.resultTitleBox {
				width: 100%;
				height: 48px;
				border-bottom: 2px solid #bfbfbf
			}
			.resultTitle {
				margin-top: 15px;
				padding: 0 10px;
				width: auto;
				font-size: 22px
			}
			.totalCount {
				padding: 17px 10px 0 10px;
				color: #f0fd00;
				font-size: 20px
			}
			.resultBox {
				position: absolute;
				top: 0;
				left: 0;
				width: 720px
			}
			.media {
				margin-bottom: 9px;
				padding: 10px;
				width: 700px;
				height: 139px;
				border-bottom: 1px solid #fff
			}
			.media img {
				float: left;
				width: 107px;
				height: 139px;
				border-radius: 6px;
				background: rgba(0, 0, 0, 0.5)
			}
			.contentBox {
				margin-left: 10px;
				width: 583px;
				height: 139px
			}
			.media .title {
				font-size: 22px
			}
			.media .title small {
				color: #f0fd00
			}
			.score,
			.actor,
			.area,
			.category {
				width: 100%;
				padding-top: 3px;
				white-space: nowrap;
				overflow: hidden
			}
            .media_focus{
                position:absolute;
                border: 3px solid rgba(240, 253, 0, 1);
                border-radius: 3px;
                box-shadow: 0 0 8px 3px rgba(240, 253, 0, .8);
                z-index: 0;
                width: 700px;
                height: 139px;

            }
		</style>
	</head>

	<body>
		<div class="focus" onclick="clickLetter(focusPos+1,boxPos);"></div>
        <div id="searchListZone" style="postion:absolute;" onclick="clickLetter(focusPos+1,boxPos);"></div>
		<div class="searchBox">
			<img id="searchImg" src="img/search_bg.png" usemap="#test" />
			<map name="test" id="test">
				<area shape="rectangle" coords="61,164,104,206" onclick="clickLetter(1)" onmouseover="mouserOverButton(0);"/>
				<area shape="rectangle" coords="119.5,164,162.5,206" onclick="clickLetter(2)" onmouseover="mouserOverButton(1);"/>
				<area shape="rectangle" coords="178,164,221,206" onclick="clickLetter(3)" onmouseover="mouserOverButton(2);"/>
				<area shape="rectangle" coords="236.5,164,279.5,206" onclick="clickLetter(4)" onmouseover="mouserOverButton(3);"/>
				<area shape="rectangle" coords="295,164,338,206" onclick="clickLetter(5)" onmouseover="mouserOverButton(4);"/>
				<area shape="rectangle" coords="353.5,164,396.5,206" onclick="clickLetter(6)" onmouseover="mouserOverButton(5);"/>
				<area shape="rectangle" coords="61,220.5,104,262.5" onclick="clickLetter(7)" onmouseover="mouserOverButton(6);"/>
				<area shape="rectangle" coords="119.5,220.5,162.5,,262.5" onclick="clickLetter(8)" onmouseover="mouserOverButton(7);"/>
				<area shape="rectangle" coords="178,220.5,221,262.5" onclick="clickLetter(9)" onmouseover="mouserOverButton(8);"/>
				<area shape="rectangle" coords="236.5,220.5,279.5,262.5" onclick="clickLetter(10)" onmouseover="mouserOverButton(9);"/>
				<area shape="rectangle" coords="295,220.5,338,262.5" onclick="clickLetter(11)" onmouseover="mouserOverButton(10);"/>
				<area shape="rectangle" coords="353.5,220.5,396.5,262.5" onclick="clickLetter(12)" onmouseover="mouserOverButton(11);"/>
				<area shape="rectangle" coords="61,277,104,319" onclick="clickLetter(13)" onmouseover="mouserOverButton(12);"/>
				<area shape="rectangle" coords="119.5,277,162.5,319" onclick="clickLetter(14)" onmouseover="mouserOverButton(13);"/>
				<area shape="rectangle" coords="178,277,221,319" onclick="clickLetter(15)" onmouseover="mouserOverButton(14);"/>
				<area shape="rectangle" coords="236.5,277,279.5,319" onclick="clickLetter(16)" onmouseover="mouserOverButton(15);"/>
				<area shape="rectangle" coords="295,277,338,319" onclick="clickLetter(17)" onmouseover="mouserOverButton(16);"/>
				<area shape="rectangle" coords="353.5,277,396.5,319" onclick="clickLetter(18)" onmouseover="mouserOverButton(17);"/>
				<area shape="rectangle" coords="61,333.5,104,375.5" onclick="clickLetter(19)" onmouseover="mouserOverButton(18);"/>
				<area shape="rectangle" coords="119.5,333.5,162.5,375.5" onclick="clickLetter(20)" onmouseover="mouserOverButton(19);"/>
				<area shape="rectangle" coords="178,333.5,221,375.5" onclick="clickLetter(21)" onmouseover="mouserOverButton(20);"/>
				<area shape="rectangle" coords="236.5,333.5,279.5,375.5" onclick="clickLetter(22)" onmouseover="mouserOverButton(21);"/>
				<area shape="rectangle" coords="295,333.5,338,375.5" onclick="clickLetter(23)" onmouseover="mouserOverButton(22);"/>
				<area shape="rectangle" coords="353.5,333.5,396.5,375.5" onclick="clickLetter(24)" onmouseover="mouserOverButton(23);"/>
				<area shape="rectangle" coords="61,390,104,432" onclick="clickLetter(25)" onmouseover="mouserOverButton(24);"/>
				<area shape="rectangle" coords="119.5,390,162.5,432" onclick="clickLetter(26)" onmouseover="mouserOverButton(25);"/>
				<area shape="rectangle" coords="178,390,221,432" onclick="clickLetter(27)" onmouseover="mouserOverButton(26);"/>
				<area shape="rectangle" coords="236.5,390,279.5,432" onclick="clickLetter(28)" onmouseover="mouserOverButton(27);"/>
				<area shape="rectangle" coords="295,390,338,432" onclick="clickLetter(29)" onmouseover="mouserOverButton(28);"/>
				<area shape="rectangle" coords="353.5,390,396.5,432" onclick="clickLetter(30)" onmouseover="mouserOverButton(29);"/>
				<area shape="rectangle" coords="61,446.5,104,488.5" onclick="clickLetter(31)" onmouseover="mouserOverButton(30);"/>
				<area shape="rectangle" coords="119.5,446.5,162.5,488.5" onclick="clickLetter(32)" onmouseover="mouserOverButton(31);"/>
				<area shape="rectangle" coords="178,446.5,221,488.5" onclick="clickLetter(33)" onmouseover="mouserOverButton(32);"/>
				<area shape="rectangle" coords="236.5,446.5,279.5,488.5" onclick="clickLetter(34)" onmouseover="mouserOverButton(33);"/>
				<area shape="rectangle" coords="295,446.5,338,488.5" onclick="clickLetter(35)" onmouseover="mouserOverButton(34);"/>
				<area shape="rectangle" coords="353.5,446.5,396.5,488.5" onclick="clickLetter(36)" onmouseover="mouserOverButton(35);"/>
				<area shape="rectangle" coords="61,600,221,647" onclick="clickLetter(1,1)" onmouseover="mouserOverButton(0,1);"/>
				<area shape="rectangle" coords="236.5,600,396.5,647" onclick="clickLetter(2,1)" onmouseover="mouserOverButton(1,1);"/>
			</map>
			<div class="input"></div>
		</div>
		<div style="width:740px;height:720px;margin:0 35px">
			<div class="resultTitleBox">
				<div class="resultTitle">搜索结果</div>
				<div class="totalCount">(0/0)</div>
			</div>
            <div id="upScroll" style="position:absolute;top:58px;height:60px;width:700px;z-index:13;" onmouseover="upAutoScroll()" onclick="enterKeyEventProcess()"></div>
			<div id="mediaScroll" style="width:100%;height:680px;overflow-y:auto;" onscroll="scrollMedia(this)">
				<div class="resultBox"></div>
			</div>
            <div id="downScroll" style="position:absolute;top:660px;height:60px;width:700px;z-index:13;" onmouseover="downAutoScroll()" onclick="enterKeyEventProcess()"></div>
		</div>
	</body>
	<script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
	<script type="text/javascript" src="js/json2.min.js"></script>
	<script type="text/javascript" src="js/comm.min.js"></script>
	<script type="text/javascript" src="js/config.js"></script>
	<script type="text/javascript" src="js/data.min.js"></script>
	<script type="text/javascript" src="js/keyevent.min.js"></script>
	<script type="text/javascript">
		var letterList = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9"];
		var columnId = window.location.search.substring(1),
			columnList = new Array(),
			searchResultList = new Array(),
			inputStr = "",
			searchTimeoutFlag = -1;
		var boxPos = 0,
			focusPos = 0,
			mediaPos = 0,
			initPageIndex = pageIndex = 0,
			pageSize = 30,
			pageCount = 0,
			totalCount = 0,
			removeCount = 0;
		var i = 0;
		var newMediaPos = 0;
		var topValue = 0, // 上次滚动条到顶部的距离  
			interval = null; // 定时器
        var showMediaFocusTimer=null;//计时器
		function onMessage(e) {
			OISUtil.onMessage(e);
			EPGSUtil.onMessage(e);
			var data = e.data;
			switch (data.event) {
				case "column":
					DialogUtil.hideLoading();
					columnList = data.result;
					break;
				case "searchMedia":
					var newMediaList = removeNotVideoMedia(data.result.list);
					searchResultList = searchResultList.concat(newMediaList);
					removeCount += data.result.list.length - newMediaList.length;
					totalCount = data.result.totalcount - removeCount;
					pageCount = data.result.pagecount;
					setMediaPos();
                        i=0;
					if (searchResultList.length > 0) {
						if (pageIndex < initPageIndex) {
							loadNextPage();
							break;
						} else if (boxPos == 2 && pageIndex == initPageIndex) {
							setMediaFocus();
							$.each(searchResultList, function() {
								$(".resultBox").append(mediaHtml(this));
							});
						} else {
							$.each(newMediaList, function() {
								$(".resultBox").append(mediaHtml(this));
							});
						}
						if (boxPos == 2) setMediaFocus();
					} else $(".resultBox").append('<div style="width:100%;padding-top:10px;text-align:center">未检索到内容</div>');
					DialogUtil.hideLoading();
					break;
			}
		}
		function eventHandle(keyObj) {
			if (inputStr.length < 17 && (keyObj.value > 47 && keyObj.value < 58 || keyObj.value > 64 && keyObj.value < 91)) {
				inputStr += keyboardInput(keyObj.value);
				search();
				return;
			}
			switch (keyObj.str) {
				case "DPAD_LEFT":
					if (boxPos == 0) {
						if (focusPos > 0) focusPos--;
						else break;
					} else if (boxPos == 1) {
						if (focusPos == 1) focusPos = 0;
						setButtonFocus();
						break;
					} else if (boxPos == 2) {
						boxPos = 0, mediaPos -= focusPos, focusPos = 0;
					}
					setLetterFocus();
					break;
				case "DPAD_UP":
					if (boxPos == 0) {
						if (focusPos > 5) focusPos -= 6;
						else break;
						setLetterFocus();
					} else if (boxPos == 1) {
						boxPos = 0, focusPos = 30;
						setLetterFocus();
					} else if (boxPos == 2) {
						if (mediaPos > 0) mediaPos--;
						else break;
						if (focusPos > 0) focusPos--;
						setMediaFocus();
					}
					break;
				case "DPAD_RIGHT":
					if (boxPos == 0) {
						if (searchResultList.length > 0 && (focusPos == letterList.length - 1 || focusPos % 6 == 5)) {
							boxPos = 2, focusPos = 0;
							setMediaFocus();
							break;
						} else if (focusPos < letterList.length - 1) {
							focusPos++;
							setLetterFocus();
						}
					} else if (boxPos == 1) {
						if (focusPos == 0) {
							focusPos = 1;
							setButtonFocus();
						} else if (searchResultList.length > 0) {
							boxPos = 2, focusPos = 0;
							setMediaFocus();
						}
					}
					break;
				case "DPAD_DOWN":
					if (boxPos == 0) {
						if (focusPos < letterList.length - 6) {
							focusPos += 6;
							setLetterFocus();
						} else {
							boxPos = 1, focusPos = 0;
							setButtonFocus();
						}
					} else if (boxPos == 2) {
						if (mediaPos < searchResultList.length - 1) mediaPos++;
						else break;
						if (focusPos < 3) focusPos++;
						setMediaFocus();
						if (Math.floor(mediaPos / pageSize) == pageIndex) loadNextPage();
					}
					break;
				case "DPAD_OK":
					if (boxPos == 0 && inputStr.length < 17) {
						inputStr += letterList[focusPos];
						search();
					} else if (boxPos == 1) {
						if (focusPos == 0) {
							console.log("del");
							inputStr = $(".input").html().substring(0, inputStr.length - 1);
						} else if (focusPos == 1) {
							inputStr = "";
						}
						search();
					} else if (boxPos == 2) {
                        enterKeyEventProcess();
					}
					break;
				case "SYMBOL_DEL":
					inputStr = $(".input").html().substring(0, inputStr.length - 1);
					search();
					break;
				case "NAV_BACK":
					window.history.go(-1);
					break;
			}
			return scrollFun(keyObj.event);
		}
		$(function() {
			DialogUtil.showLoading();
		});

		function clickLetter(__focus, __boxPos) {
			if (__boxPos == 1) {
				boxPos = __boxPos;
				focusPos = __focus - 1;
				setButtonFocus();
				if (focusPos == 0) {
					inputStr = $(".input").html().substring(0, inputStr.length - 1);
				} else if (focusPos == 1) {
					inputStr = "";
				}
				search();
			} else if (__boxPos == undefined || __boxPos == 0) {
				boxPos = 0;
				focusPos = __focus - 1;
				if (inputStr.length < 17) {
					inputStr += letterList[focusPos];
					search();
				}
				setLetterFocus();
			} else if (__boxPos == 2) {
				clickMedia(mediaPos);
			}
		}
		
		function mouserOverButton(__focus,__boxPos){
			if (__boxPos == 1) {
				boxPos = __boxPos;
				focusPos = __focus;
				setButtonFocus();
			} else if (__boxPos == undefined || __boxPos == 0) {
				boxPos = 0;
				focusPos = __focus;
				setLetterFocus();
			}
		}
		
		function mouseOverMedia(__focusPos,__mediaPos,__boxPos){
			focusPos = __focusPos;
			mediaPos = __mediaPos;
			boxPos = __boxPos;
			setMediaFocus();
		}

		function clickMedia(__mediaPos) {
			boxPos = 2;
			mediaPos = __mediaPos;
			focusPos = __mediaPos - newMediaPos;
			sessionStorage.setItem("searchInitObj", JSON.stringify({
				boxPos: boxPos,
				focusPos: focusPos,
				mediaPos: mediaPos,
				inputStr: inputStr,
				initPageIndex: pageIndex
			}));
			var mediaObj = searchResultList[mediaPos];
			if (mediaObj.meta != 0 && mediaObj.meta != 5) {
				window.location.href = "detail.html?cid=" + mediaObj.columnId + "&mid=" + mediaObj.id;
			} else {
				window.location.href = "livePlay.html?" + mediaObj.id;
			}
		}
        function upAutoScroll(){
            //如果当前scrollTop>0,向上滚动
            boxPos = 2;
            if(interval){
                window.clearInterval(interval);
                interval=null;
            }
            interval=window.setInterval(function(){
                mediaScrollTop = $("#mediaScroll").scrollTop();
                if(mediaPos>0&&mediaScrollTop-169>0){
                    mediaScrollTop=mediaScrollTop-169;
                    mediaPos--;
                    $("#mediaScroll").scrollTop(mediaScrollTop);
                }else{
                    $("#mediaScroll").scrollTop(0);
                }
                window.clearInterval(interval);
                interval=null;
            },1000);

        }
        function downAutoScroll(){
            // 如果还没有到达底部，向下滚动
            boxPos = 2;
            if(interval){
                window.clearInterval(interval);
                interval=null;
            }
            interval=window.setInterval(function(){
                mediaScrollTop = $("#mediaScroll").scrollTop();
                if(mediaPos< searchResultList.length - 1){
                    mediaPos++;
                    mediaScrollTop=mediaScrollTop+169;
                }else{
                    mediaScrollTop=searchResultList.length*169;
                }
                $("#mediaScroll").scrollTop(mediaScrollTop);
                window.clearInterval(interval);
                interval=null;
            },1000);
        }
        function enterKeyEventProcess(){
            //相当于点击当前的FcousItem
            sessionStorage.setItem("searchInitObj", JSON.stringify({
                boxPos: boxPos,
                focusPos: focusPos,
                mediaPos: mediaPos,
                inputStr: inputStr,
                initPageIndex: pageIndex
            }));
            var mediaObj = searchResultList[mediaPos];
            if (mediaObj.meta != 0 && mediaObj.meta != 5) {
                window.location.href = "detail.html?cid=" + mediaObj.columnId + "&mid=" + mediaObj.id;
            } else {
                window.location.href = "livePlay.html?" + mediaObj.id;
            }
        }
		function scrollMedia(__this) {
			if (boxPos == 2) {
				$(".focus").hide();
                hideMediaFocus();
			}
			mediaScrollTop = $("#mediaScroll").scrollTop();
			newMediaPos = Math.ceil(mediaScrollTop / 270);
            if(showMediaFocusTimer){
                window.clearTimeout(showMediaFocusTimer);
                showMediaFocusTimer=null;
            }
			if (showMediaFocusTimer == null) {
                showMediaFocusTimer = window.setTimeout(function(){
                    hideMediaFocus();
                    showMediaFocus();
                }, 700);
			}
			topValue = mediaScrollTop;
			var nScrollHight = 0; //滚动距离总长(注意不是滚动条的长度)
			var nScrollTop = 0; //滚动到的当前位置
			var nDivHight = $("#mediaScroll").height();
			nScrollHight = $(__this)[0].scrollHeight;
			nScrollTop = $(__this)[0].scrollTop;
			if (nScrollTop + nDivHight >= nScrollHight) {
				if (Math.floor((i - 1) / pageSize) == pageIndex) loadNextPage();
			}
		}

		function test() {
			if ($("#mediaScroll").scrollTop() == topValue) {
				$("#mediaScroll").scrollTop(169 * newMediaPos);
				if (mediaPos >= newMediaPos && mediaPos < (newMediaPos + 4) && boxPos == 2) {
					if ((mediaScrollTop) % 169 != 0) {
						extraScrollTop = 169 - ((mediaScrollTop) % 169);
					} else {
						extraScrollTop = 0;
					}
					$(".focus").css({
						top: 58 + (mediaPos - newMediaPos) * 169,
						left: 493,
						width: 700,
						height: 139
					});
				} else if (boxPos == 2) {
					$(".focus").hide();
				}
				window.clearInterval(interval);
				interval = null;
			}
		}

		function onEPGSLoad() {
			EPGSUtil.getChildColumn(1, "column");
			if (Boolean(sessionStorage.getItem("searchInitObj"))) {
				var initObj = JSON.parse(sessionStorage.getItem("searchInitObj"));
				sessionStorage.removeItem("searchInitObj");
				boxPos = initObj.boxPos, focusPos = initObj.focusPos, mediaPos = initObj.mediaPos,
					inputStr = initObj.inputStr, initPageIndex = initObj.initPageIndex;
				$(".input").html(inputStr);
				if (inputStr.length > 0) {
					DialogUtil.showLoading();
					$(".resultBox").empty();
					searchResultList.length = 0;
					EPGSUtil.searchMedia(columnId, 0, 0, 0, 0, 0, inputStr.toLowerCase(), pageIndex, pageSize, "searchMedia");
				}
			} else setLetterFocus();
		}

		function setLetterFocus() {
            $(".focus").show();
            hideMediaFocus();
			$(".focus").css({
				top: 164 + Math.floor(focusPos / 6) * 56.5,
				left: 61 + focusPos % 6 * 58.5,
				width: 43,
				height: 42
			});
		}

		function setButtonFocus() {
            $(".focus").show();
            hideMediaFocus();
			$(".focus").css({
				top: 600,
				left: 61 + focusPos * 175.5,
				width: 160,
				height: 47
			});
		}
		function setMediaFocus(i) {

            if($("#mediaScroll").scrollTop()>=(mediaPos)*169){
                if($("#mediaScroll").scrollTop()>169){
                    $("#mediaScroll").scrollTop($("#mediaScroll").scrollTop()-169);
                }else{
                    $("#mediaScroll").scrollTop(0);
                }

            }else if($("#mediaScroll").scrollTop()<=(mediaPos-3)*169){
               $("#mediaScroll").scrollTop($("#mediaScroll").scrollTop()+169);
            }

            if (mediaPos == focusPos&&mediaPos<=3) {
                $("#mediaScroll").scrollTop(169 * (mediaPos - focusPos));
            }

            hideMediaFocus();
            showMediaFocus();
            /*
			$(".focus").css({
				top: 58 + focusPos * 169-$("#mediaScroll").scrollTop(),
				left: 493,
				width: 700,
				height: 139
			});*/
			setMediaPos();
			oldFocusPos = focusPos;
		}

		function setMediaPos() {
			if (totalCount == 0) $(".totalCount").text("(0/0)");
			else $(".totalCount").text("(" + (mediaPos + 1) + "/" + totalCount + ")");
		}

		function loadNextPage() {
			if (pageIndex < pageCount - 1) {
				pageIndex++;
				EPGSUtil.searchMedia(columnId, 0, 0, 0, 0, 0, inputStr.toLowerCase(), pageIndex, pageSize, "searchMedia");
			}
		}

		function mediaHtml(mediaObj) {
			var mediaHtml = '<div class="media" onclick="clickMedia(' + i + ')" onmouseover="mouseOverMedia('+i+','+i+',2);"><div class="media_border"><img src="' + mediaObj.thumbnail + '"><div class="contentBox"><div class="title">' + mediaObj.title + "&nbsp;";
			var columnObj = ToolsUtil.match(columnList, {
				id: mediaObj.columnId
			});
			if (Boolean(columnObj)) mediaHtml += "<small>[" + columnObj.title + "]</small>";
			mediaHtml += '</div><div class="score">评分：' + (Boolean(mediaObj.score) ? mediaObj.score : "") + "</div>";
			mediaHtml += '<div class="actor">主演：' + (Boolean(mediaObj.actor) ? mediaObj.actor : "") + "</div>";
			mediaHtml += '<div class="area">地区：' + (Boolean(mediaObj.area) ? mediaObj.area : "") + "</div>";
			mediaHtml += '<div class="category">分类：' + (Boolean(mediaObj.category) ? mediaObj.category : "") + "</div>";
			mediaHtml += "</div></div></div>";
			i += 1;
			return mediaHtml;
		}

		function removeNotVideoMedia(mediaList) {
			var newMediaList = new Array();
			for (index in mediaList) {
				var metaId = mediaList[index].meta;
				if (metaId != 10 && metaId != 20 && metaId != 30 && metaId != 40 && metaId != 50) newMediaList.push(mediaList[index]);
			}
			return newMediaList;
		}

		function search() {
			window.clearTimeout(searchTimeoutFlag);
			$(".input").html(inputStr);
			if (inputStr.length > 0) {
				searchTimeoutFlag = window.setTimeout(function() {
					DialogUtil.showLoading("搜索中...");
					$(".resultBox").empty();
					mediaPos = initPageIndex = pageIndex = pageCount = totalCount = removeCount = searchResultList.length = 0;
					setMediaPos();
					EPGSUtil.searchMedia(columnId, 0, 0, 0, 0, 0, inputStr.toLowerCase(), pageIndex, pageSize, "searchMedia");
				}, 2e3);
			}
		}
        function hideMediaFocus(){
            var _focus=document.getElementsByClassName("media_focus");
            if(_focus.length>0){
                //_focus[0].remove();
                _focus[0].className='media_border';
            }
        }
        function showMediaFocus(){
            var mediaElementList=document.getElementsByClassName("resultBox")[0].children;
            if(mediaElementList.length>0){
                $(".focus").hide()
                //var _focus ="<div class='media_focus' ></div>";
                var _focus=document.createElement('div');
                _focus.className='media_focus';
                _focus.id="mediaFocus";
                if( $('.media').length>0){
                    //$('.media')[mediaPos].innerHTML=$('.media')[mediaPos].innerHTML+_focus;
                    //$('.media_border')[mediaPos].appendChild(_focus);
                    //$('#mediaFocus').onclick(enterKeyEventProcess(),true);
                    $('.media_border')[mediaPos].className='media_border media_focus';
                }
            }
        }
	</script>

</html>